#version 330 core

uniform vec4 uColor;
uniform vec4 ulightDirection;
uniform sampler2D utextureSampler;

in vec4 normal_cameraspace;
in vec4 positionWorldspace;

out vec3 color;

void main()
{
	float cosTheta = clamp( dot( normal_cameraspace, ulightDirection ), 0,1 );
	
	vec3 green = vec3(0, 1, 0);
	vec3 gray = vec3(0.7, 0.7, 0.7);
	color = texture( utextureSampler, positionWorldspace.xz ).rgb;//green * cosTheta + gray * (1-cosTheta);
	color *= cosTheta;
}